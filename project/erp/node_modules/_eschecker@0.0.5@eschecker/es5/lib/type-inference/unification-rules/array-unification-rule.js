"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.ArrayUnificationRule = undefined;

var _types = require("../../../lib/semantic-model/types");

/**
 * Unification rule for arrays
 * @implements {BaseTypeUnificationRule}
 */
class ArrayUnificationRule {
	canUnify(t1, t2) {
		return t1 instanceof _types.ArrayType && t2 instanceof _types.ArrayType;
	}

	unify(t1, t2, unificator) {
		const unified = _types.ArrayType.of(unificator.unify(t1.of, t2.of));

		if (unified.equals(t1)) {
			return t1;
		}

		if (unified.equals(t2)) {
			return t2;
		}

		return unified;
	}
}

exports.ArrayUnificationRule = ArrayUnificationRule;
exports.default = ArrayUnificationRule;
//# sourceMappingURL=array-unification-rule.js.map

"use strict";

var _babylon = require("babylon");

var _babelTraverse = require("babel-traverse");

var _babelTraverse2 = _interopRequireDefault(_babelTraverse);

var _chai = require("chai");

var _parentInitializerVisitor = require("../../lib/semantic-model/parent-initializer-visitor");

var _parentInitializerVisitor2 = _interopRequireDefault(_parentInitializerVisitor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe("ParentInitializerVisitor", function () {
	it("sets the parent for each node", function () {
		// arrange
		const ast = (0, _babylon.parse)(`
			function Square(length, width) {
		        this.length = length;
		        this.width = width;
			}`);

		// act
		(0, _babelTraverse2.default)(ast, _parentInitializerVisitor2.default);

		// assert
		(0, _chai.expect)(ast.parent).to.be.undefined;
		(0, _chai.expect)(ast.program.parent).to.equal(ast);
		(0, _chai.expect)(ast.program.body[0].parent).to.equal(ast.program);
	});
});
//# sourceMappingURL=parent-initializer-visitor.spec.js.map
